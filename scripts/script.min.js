addEventListener("scroll",function(e){document.getElementById("header").style.left=scrollX+"px"}),Array.prototype.diff=function(t){return this.filter(function(e){return t.indexOf(e)<0})};var schedules,displayDate,updateScheduleID,urlParams,isDoge,days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],mobile=isMobile(),rawSchedule="",titles=[],titleStr="",forceTitle=!1,futureWarning="<br>Future schedules may be incorrect.",dogeCounter=7,hasFocus=!0,options={},inputStr="",KEY_LEFT=37,KEY_UP=38,KEY_RIGHT=39,KEY_DOWN=40,KEY_A=65,KEY_B=66,KONAMI=""+KEY_UP+KEY_UP+KEY_DOWN+KEY_DOWN+KEY_LEFT+KEY_RIGHT+KEY_LEFT+KEY_RIGHT+KEY_B+KEY_A,START_DATE=new Date("January 7, 2019"),START_SCHEDULE=1,LINKS={Lunch:"https://harkerdev.github.io/harker-lunch/#$DAYNAMELOWER$","School Meeting":"https://docs.google.com/forms/d/e/1FAIpQLSeZoCFQhzPqiX-Tbcc0qRUuw7_rjMgUxkiR97GN6aNB8Ulfsg/viewform?entry.1033439092=$MONTH$%2F$DATE$"},COLLABORATION_REPLACEMENTS=["Collaboration -> Office Hours","Collaboration -> Office Hours","Collaboration -> Faculty Meeting","Collaboration -> Office Hours","Collaboration -> After School"],TOTAL_SCHEDULES=8,SCHEDULES=["A","B","C","D","A","B","C","D"],MILLIS_PER_DAY=864e5;function updateUrlParams(){urlParams={};for(var e,t=/(?!^)\+/g,n=/([^&=]+)=?([^&]*)/g,a=function(e){return decodeURIComponent(e.replace(t," "))},o=location.search.substring(1);e=n.exec(o);)urlParams[a(e[1])]=a(e[2])}function error(){console.log("error downloading")}function initViewport(){if(mobile){var e=document.createElement("meta");e.name="viewport",e.content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0",document.getElementsByTagName("head")[0].appendChild(e),document.getElementsByTagName("body")[0].class="mobile"}}function initTitle(){document.getElementById("leftArrow").addEventListener("click",goLast),document.getElementById("rightArrow").addEventListener("click",goNext),document.getElementById("refresh").addEventListener("click",function(){updateSchedule(null,!0)}),$.ajax({url:"titles.txt",success:function(e){titleStr=e},cache:!1})}function checkDoge(){0==(dogeCounter-=1)?(setDoge(!0),setTitleTitle("doge")):dogeCounter<0?(setDoge(!1),dogeCounter=7,setTitleTitle(titleStr)):setTitleTitle("You are "+dogeCounter+(1==dogeCounter?" step":" steps")+" away from becoming a developer!")}function parseRawSchedule(e){var t=e.split("\n"),n=0;for((schedules=[])[0]=[];0<t.length;)if(0===t[0].length)schedules[++n]=[],t.shift();else{var a=t.shift();if(0===n&&0<=a.indexOf("|"))for(var o=new Date(a.substring(0,a.indexOf("|"))),i=new Date(a.substring(a.indexOf("|")+1,a.indexOf("\t")));o<=i;o.setDate(o.getDate()+1))schedules[0].push(o.getMonth().valueOf()+1+"/"+o.getDate()+"/"+o.getFullYear().toString().substr(-2)+a.substring(a.indexOf("\t")));else schedules[n].push(a)}}function setDisplayDate(e,t){var n=e?new Date(e):getDateFromUrlParams();if(setDayBeginning(n),t||!displayDate||n.valueOf()!=displayDate.valueOf()){var a=document.getElementById("schedule");for(displayDate=new Date(n);a.rows.length;)a.deleteRow(-1);var o=a.insertRow(-1);if(options.enableDayView)createDay(o,n);else{n=getMonday(n);for(var i=0;i<5;i++)createDay(o,n),n.setDate(n.getDate()+1)}}}function getDateFromUrlParams(){var e=new Date;return 0<urlParams.y&&0<urlParams.m&&0<urlParams.d?e=new Date("20"+urlParams.y,urlParams.m-1,urlParams.d):0<urlParams.m&&0<urlParams.d&&(e=new Date((new Date).getFullYear(),urlParams.m-1,urlParams.d)),options.enableDayView||(e=getMonday(e)),e}function warn(e){var t=document.getElementById("warning");t.style.display=e?"block":"none",t.innerHTML=e}function createDay(e,t){var n=getDayInfo(t),a=e.insertCell(-1);a.date=t.valueOf(),9==t.getMonth()&&31==t.getDate()&&a.classList.add("halloween");var o=document.createElement("div");o.classList.add("head");var i=document.createElement("div");i.classList.add("headWrapper");var r="";void 0===n.name&&null===n.name||(r="("+n.name+")"),"()"===r&&(r=""),i.innerHTML=days[t.getDay()]+'<div class="headDate">'+n.dateString+" "+r+"</div>",o.appendChild(i),a.appendChild(o);var s="8:00";if(0<n.index)for(var d=1;d<schedules[n.index].length;d++){var l=schedules[n.index][d],c=makePeriodNameReplacements(l.substring(0,l.indexOf("\t")),n.replacements),u=l.substring(l.indexOf("\t")+1),p=u.substring(0,u.indexOf("-")),m=u.substring(u.lastIndexOf("-")+1);if(options.showPassingPeriods){var g=document.createElement("div");g.classList.add("period"),createPeriod(g,"",s,p,t),a.appendChild(g)}s=m;var h=document.createElement("div");if(h.classList.add("period"),0<=c.indexOf("|")){var f=document.createElement("table");f.classList.add("lunch");var v=f.insertRow(-1),y=v.insertCell(-1),D=v.insertCell(-1),E=u.substring(0,u.indexOf("||")),b=u.substring(u.indexOf("||")+2),w=c.substring(0,c.indexOf("||")),S=c.substring(c.indexOf("||")+2);4==findNumberOfOccurences(c,"|")?(show1Time=!0,show2Time=!0,createSubPeriods(y,w,p,E.substring(E.indexOf("-")+1,E.indexOf("|")),E.substring(E.indexOf("|")+1,E.lastIndexOf("-")),m,t,show1Time,show2Time)):(createPeriod(y,w,p,m,t),show1Time=4==n.id||"ReCreate"==n.id,show2Time=!show1Time),createSubPeriods(D,S,p,b.substring(b.indexOf("-")+1,b.indexOf("|")),b.substring(b.indexOf("|")+1,b.lastIndexOf("-")),m,t,show1Time,show2Time),h.appendChild(f)}else createPeriod(h,c,p,m,t);a.appendChild(h)}}function makePeriodNameReplacements(e,t){if(0<t.length)for(var n=0;n<t.length;n++)if(!t[n].indexOf(e))return t[n].substring(t[n].indexOf("->")+2);return e}function setTitleTitle(e,t){var n=t?new Date(t):getDateFromUrlParams(),a=e.split("\n");1<a.length&&a.pop(),displayMessage=a[Math.floor(Math.random()*a.length)],getMonday(n)>getMonday(new Date)&&(displayMessage+=futureWarning),warn(displayMessage)}function getMonday(e){var t=new Date(e);return 6<=t.getDay()?t.setDate(t.getDate()+2):t.setDate(t.getDate()-t.getDay()+1),setDayBeginning(t),t}function setDayBeginning(e){e.setHours(0,0,0,0)}function getDateFromString(e,t){var n=e.substring(0,e.indexOf(":")),a=e.substring(e.indexOf(":")+1);return n<7&&(n=parseInt(n,10)+12),new Date(t.getFullYear(),t.getMonth(),t.getDate(),n,a)}function getDayInfo(e){for(var t,n=e.getMonth().valueOf()+1+"/"+e.getDate().valueOf()+"/"+e.getFullYear().toString().substr(-2),a=0,o=[],i=0;i<schedules[0].length;i++)schedules[0][i].indexOf(n)||(0<=schedules[0][i].indexOf("[")?(t=schedules[0][i].substring(schedules[0][i].indexOf("\t")+1,schedules[0][i].indexOf("[")-1),o=schedules[0][i].substring(schedules[0][i].indexOf("[")+1,schedules[0][i].indexOf("]")).split(",")):t=schedules[0][i].substring(schedules[0][i].indexOf("\t")+1),a=getScheduleIndex(t));void 0===t&&(a=0===(t=e.getDay())||6==t?t=0:getScheduleIndex(t=calculateScheduleRotationID(e)));var r="";return t<=TOTAL_SCHEDULES&&(r=SCHEDULES[t-1]),o.push(COLLABORATION_REPLACEMENTS[e.getDay()-1]),{index:a,id:t,dateString:n,replacements:o,name:r}}function getScheduleIndex(e){if(0===e)return 0;for(var t=1;t<schedules.length;t++)if(e==schedules[t][0])return t;return 0}function calculateScheduleRotationID(e){var t=Math.round((e.getTime()-START_DATE.getTime())/MILLIS_PER_DAY);t-=countWeekendDays(START_DATE,e);for(var n,a=/\d{1,2}\/\d{1,2}\/\d{2}/,o=0;o<schedules[0].length;o++){var i=schedules[0][o];if(-1!=i.search(a)){var r=i.split("\t")[0];r=r.substring(0,r.length-2)+"20"+r.substring(r.length-2);var s=new Date(r);0===getScheduleIndex(i.split("\t")[1])&&s<=e&&START_DATE<=s&&0!==s.getDay()&&6!=s.getDay()&&t--}}return 8<(n=t<0?START_SCHEDULE+Math.floor(t%TOTAL_SCHEDULES)+TOTAL_SCHEDULES:START_SCHEDULE+Math.floor(t%TOTAL_SCHEDULES))&&(n-=8),4<n&&n%2==0&&(n-=4),n}function createPeriod(e,t,n,a,o,i){void 0===i&&(i=!0),startDate=getDateFromString(n,o),endDate=getDateFromString(a,o);var r=document.createElement("div");r.classList.add("periodWrapper"),r.periodName=t,r.start=startDate,r.end=endDate;var s=(endDate-startDate)/6e4;if(!0===options.color)switch(r.periodName){case"P1":r.classList.add("periodone");break;case"P2":r.classList.add("periodtwo");break;case"P3":r.classList.add("periodthree");break;case"P4":r.classList.add("periodfour");break;case"P5":r.classList.add("periodfive");break;case"P6":r.classList.add("periodsix");break;case"P7":r.classList.add("periodseven")}if(0<s){if(r.style.height=s-1+"px",15<=s&&(t&&(r.innerHTML=t),i&&(r.innerHTML+=(s<30?" ":"<br />")+n+" â€“ "+a)),LINKS[t]){var d=document.createElement("a");d.className="plain",d.href=LINKS[t].split("$DATE$").join(o.getDate()).split("$DAY$").join(o.getDay()+1).split("$FULLYEAR$").join(o.getFullYear()).split("$MONTH$").join(o.getMonth()+1).split("$DAYNAME$").join(days[o.getDay()]).split("$DAYNAMELOWER$").join(days[o.getDay()].toLowerCase()),d.appendChild(r),r=d}return e.appendChild(r)}}function createSubPeriods(e,t,n,a,o,i,r,s,d){void 0===s&&(s=!0),void 0===d&&(d=!0);var l=document.createElement("div");if(l.classList.add("period"),createPeriod(l,t.substring(0,t.indexOf("|")),n,a,r,s),e.appendChild(l),options.showPassingPeriods){var c=document.createElement("div");c.classList.add("period"),createPeriod(c,"",a,o,r),e.appendChild(c)}var u=document.createElement("div");u.classList.add("period"),createPeriod(u,t.substring(t.indexOf("|")+1),o,i,r,d),e.appendChild(u)}function create3SubPeriods(e,t,n,a,o,i,r,s,d,l,c){var u=document.createElement("div");u.classList.add("period"),createPeriod(u,t,n,a,c),e.appendChild(u);var p=document.createElement("div");p.classList.add("period"),createPeriod(p,o,i,r,c),e.appendChild(p);var m=document.createElement("div");m.classList.add("period"),createPeriod(m,s,d,l,c),e.appendChild(m)}function goLast(){var e=new Date(displayDate);e.setDate(e.getDate()-(options.enableDayView?1:7)),updateSchedule(e,!1,!0),updateSearch(e)}function goNext(){var e=new Date(displayDate);e.setDate(e.getDate()+(options.enableDayView?1:7)),updateSchedule(e,!1,!0),updateSearch(e)}function goCurr(){var e=new Date;updateSchedule(e),updateSearch(e)}function updateSearch(e,t){var n=new Date;options.enableDayView||(n=getMonday(n)),e.getDate()!=n.getDate()||e.getMonth()!=n.getMonth()?(urlParams.m=e.getMonth()+1,urlParams.d=e.getDate()):(delete urlParams.m,delete urlParams.d),e.getYear()!=n.getYear()?urlParams.y=e.getFullYear().toString().substr(-2):delete urlParams.y;var a="?";for(var o in urlParams)a+=o+"="+urlParams[o]+"&";a=a.slice(0,-1),history.pushState(e,document.title,location.protocol+"//"+location.host+location.pathname+a+location.hash)}function setHighlightedPeriod(e){e||(e=Date.now());var t=new Date(e);t.setHours(0,0,0,0);var n=document.getElementById("today"),a=[];if(n){for(var o=(a=Array.prototype.slice.call(n.getElementsByClassName("now"))).length-1;0<=o;o--){var i=a[o];i.classList.remove("now");var r=i.getElementsByClassName("periodLength")[0];r&&i.removeChild(r)}n.id=""}for(var s=document.getElementById("schedule").rows[0].cells,d=0;d<s.length;d++){var l=s[d];if(t.valueOf()==l.date){l.id="today";for(var c=l.getElementsByClassName("periodWrapper"),u=0;u<c.length;u++){var p=c[u];if(0<=e-p.start&&e-p.end<0&&(p.classList.add("now"),40<=(p.end-p.start)/6e4)){var m=(p.end-e)/6e4;p.innerHTML+='<div class="periodLength">'+(1<m?Math.round(m)+" min. left</div>":Math.round(60*m)+" sec. left</div>")}}}}if(options.enablePeriodNotifications){for(var g=Array.prototype.slice.call(document.getElementsByClassName("now")),h=g.diff(a),f=a.diff(g),v=0;v<h.length;v++){var y=g[v].periodName;y&&!hasFocus&&sendNotification(y+" has started.",options.notificationDuration)}for(var D=0;D<f.length;D++)(y=a[D].periodName)&&!hasFocus&&sendNotification(y+" has ended.",options.notificationDuration)}}function updateSchedule(e,t,n){setDisplayDate(e,t),document.getElementById("warning").removeEventListener("click",options.enableDoge?null:checkDoge),document.getElementById("warning").addEventListener("click",options.enableDoge?checkDoge:null),(n||forceTitle)&&(forceTitle=!0,setTitleTitle(titleStr,e)),setHighlightedPeriod()}function expandOptions(){document.getElementById("options").classList.add("expanded"),document.getElementById("optionsArrow").innerHTML="&#8600;"}function contractOptions(){document.getElementById("options").classList.remove("expanded"),document.getElementById("optionsArrow").innerHTML="&#8598;"}function toggleOptions(){document.getElementById("options").classList.contains("expanded")?contractOptions():expandOptions()}function initOptions(){var e=document.getElementById("options");e.addEventListener("mouseover",expandOptions),e.addEventListener("mouseout",contractOptions),mobile&&e.classList.add("mobile"),document.getElementById("optionsArrow").addEventListener("click",toggleOptions);var t=e.getElementsByTagName("input");localStorage.updateScheduleInterval&&(localStorage.activeUpdateInterval=localStorage.updateScheduleInterval,localStorage.removeItem("updateScheduleInterval"));for(var n=0;n<t.length;n++){var a=t[n];"checkbox"==a.type?(a.addEventListener("change",function(e){options[e.target.name]=localStorage[e.target.name]=e.target.checked}),localStorage[a.name]?options[a.name]=a.checked="true"==localStorage[a.name]:options[a.name]=localStorage[a.name]=a.checked):"number"==a.type?(a.addEventListener("change",function(e){options[e.target.name]=parseInt(localStorage[e.target.name]=e.target.value)}),localStorage[a.name]?options[a.name]=parseInt(a.value=localStorage[a.name]):options[a.name]=parseInt(localStorage[a.name]=a.value)):(a.addEventListener("change",function(e){options[e.target.name]=localStorage[e.target.name]=e.target.value}),localStorage[a.name]?options[a.name]=a.value=localStorage[a.name]:options[a.name]=localStorage[a.name]=a.value)}}function createOptions(e){JSON.parse(e).sections.forEach(function(e){(!e.hasOwnProperty("platforms")||mobile&&0<=e.platforms.indexOf("mobile")||!mobile)&&createOptionSection(e)}),initOptions(),attachOptionActions(),updateSchedule(null,!0,!0)}function displayOptionsError(e,t){updateSchedule(),warn(e?"Retrieval of options.json timed out!":"Something went wrong while retrieving options.json!")}function createOptionSection(e){createOptionSectionTitle(e),e.options.forEach(function(e){(!e.hasOwnProperty("platforms")||mobile&&0<=e.platforms.indexOf("mobile")||!mobile)&&createOption(e)})}function createOptionSectionTitle(e){var t=document.createElement("tr"),n=document.createElement("th");if(n.colspan=2,e.hasOwnProperty("tooltip")){var a=document.createElement("span");a.title=e.tooltip,a.innerHTML=e.name+'<sup class="tooltipIndicator">?</sup>',n.appendChild(a)}else n.textContent=e.name;t.appendChild(n),document.getElementById("optionsContent").appendChild(t)}function createOption(e){var t=document.createElement("tr"),n=document.createElement("td"),a=document.createElement("td");if(e.hasOwnProperty("tooltip")){var o=document.createElement("span");o.title=e.tooltip,o.innerHTML=e.description+'<sup class="tooltipIndicator">?</sup>:',n.appendChild(o)}else n.textContent=e.description+":";var i=document.createElement("input");i.name=e.name,i.type=e.type;var r=mobile&&e.hasOwnProperty("mobileDefault")?e.mobileDefault:e.default;"number"==i.type?(i.min=0,i.value=r):"checkbox"==i.type&&r&&(i.checked="checked"),a.appendChild(i),t.appendChild(n),t.appendChild(a),document.getElementById("optionsContent").appendChild(t)}function attachOptionActions(){updateUpdateInterval(),document.getElementsByName("activeUpdateInterval")[0].addEventListener("change",function(e){updateUpdateInterval()}),document.getElementsByName("showPassingPeriods")[0].addEventListener("change",function(e){updateSchedule(null,!0)}),document.getElementsByName("color")[0].addEventListener("change",function(e){updateSchedule(null,!0)}),document.getElementsByName("enablePeriodNotifications")[0].addEventListener("change",function(e){if(options.enablePeriodNotifications){var t=Notification.permission;"Notification"in window?"denied"==t?alert("Please allow desktop notifications for this site to enable this feature."):"default"==t&&Notification.requestPermission():alert("This browser does not support desktop notifications.")}}),document.getElementsByName("enableDoge")[0].addEventListener("change",function(e){document.getElementById("warning").removeEventListener("click",options.enableDoge?null:checkDoge),document.getElementById("warning").addEventListener("click",options.enableDoge?checkDoge:null)}),document.body.classList.add(options.enableDayView?"day":"week"),document.getElementsByName("enableDayView")[0].addEventListener("change",function(e){updateSchedule(null,!0),document.body.classList.remove("week"),document.body.classList.remove("day"),document.body.classList.add(options.enableDayView?"day":"week"),scrollTo(0,0)}),mobile||document.addEventListener("keydown",function(e){switch(e.keyCode){case 116:options.interceptF5&&(e.preventDefault(),updateSchedule());break;case 82:options.interceptCtrlR&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),updateSchedule());break;case 37:goLast();break;case 39:goNext();break;case 40:goCurr()}-1!=(inputStr+=e.keyCode).indexOf(KONAMI)&&(inputStr="")})}function download(e,t,n){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onreadystatechange=function(){4==a.readyState&&(200==a.status?t(a.responseText):n&&n(!1,a.status))},a.ontimeout=function(){n(!0,null)},a.send()}function updateUpdateInterval(){document.hidden?setUpdateInterval(options.hiddenUpdateInterval):setUpdateInterval(hasFocus?options.activeUpdateInterval:options.inactiveUpdateInterval)}function setUpdateInterval(e){clearInterval(updateScheduleID),updateScheduleID=0<e?setInterval(function(){updateSchedule()},1e3*e):null}function sendNotification(e,t){if("Notification"in window){var n=new Notification(e);0<t&&setTimeout(function(){n.close()},1e3*t)}}function isMobile(){var e=navigator.userAgent||navigator.vendor||window.opera;return window.innerWidth<=800&&window.innerHeight<=600||(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))}function updateClock(){var e=new Date,t=e.getHours(),n=t%12,a=e.getMinutes();document.getElementById("currentTime").innerHTML=(0===n?12:n)+":"+addLeadingZero(a)+(12<=t?" PM":" AM")}function addLeadingZero(e){return e<10?"0"+e:e}function isSameDate(e,t){return e.getFullYear()===t.getFullYear()&&t.getMonth()==t.getMonth()&&e.getDate()===t.getDate()}function findNumberOfOccurences(e,t){for(var n=-1,a=-2;-1!=a;n++,a=e.indexOf(t,a+1));return n}function countWeekendDays(e,t){var n=1+Math.round((t.getTime()-e.getTime())/MILLIS_PER_DAY);return 2*Math.floor((e.getDay()+n)/7)+(0===e.getDay())-(6==t.getDay())}updateUrlParams(),window.history.replaceState(getDateFromUrlParams(),document.title,document.location),document.addEventListener("visibilitychange",function(e){document.hidden||updateSchedule(),updateUpdateInterval()}),addEventListener("focus",function(e){updateSchedule(),hasFocus=!0,updateUpdateInterval()}),addEventListener("blur",function(e){hasFocus=!1,updateUpdateInterval()}),addEventListener("popstate",function(e){updateUrlParams(),updateSchedule(e.state)}),addEventListener("load",function(e){initViewport(),initTitle(),$.ajax({url:"special.txt",success:function(e){parseRawSchedule(e),$.ajax({url:"options.json",success:function(e){createOptions(JSON.stringify(e))},cache:!1})},cache:!1})}),log=console.log.bind(console);