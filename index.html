<!DOCTYPE html>
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<link rel="shortcut icon" href="asset/favicon.ico" />

<link rel="apple-touch-icon" href="asset/logo.png" />
<meta name="apple-mobile-web-app-capable" content="yes" />

<title>Bell Schedule</title>
<script type="text/javascript" src="scripts/jquery.min.js"></script>
<script type="text/javascript" src="scripts/script.js"></script>

<script type="text/javascript" src="scripts/doge.js"></script>

<script>
var color = false;

function toggleColor(){
	color = !color;
	updateSchedule(displayDate, true);
}
</script>

<link rel="stylesheet" type="text/css" href="style.css" />


</head>

<body>

<div id="header" class="noHighlight">
	<h1>
		<span id="leftArrow" title="Last Week" style="display:inline-block;">&#8249;</span>
		<span id="rightArrow" title="Next Week" style="display:inline-block;">&#8250;</span>
		<span id="title">Bell Schedule</span>
	</h1>
	<div id="warning"></div>
</div>

<!--<div class="noHighlight" id="currWeekWrapper" class="noHighlight"><h2>
	<button class="noHighlight" type="button" id="currWeek" title="Go to Current Week" onclick="goCurrWeek()">Current Week</button>
</h2></div>-->
<!--<input type="button" value="Current Week" id = "currWeek" title = "Current Week" onclick="goCurrWeek()">-->

<div id="container">
	<table id="schedule"></table>
</div>
<div id="refresh" class="noHighlight" title="Update Schedule">&#8635;</div><!--&#8681;-->
<div id="version"><a href="https://github.com/HarkerDev/bellschedule/releases" title="Changelog">V1.6.0</a></div>

<div id="options">
	<div id="optionsArrow" class="noHighlight">&#8598;</div>
	<h2 id="optionsTitle">Options</h2>
	<table id="optionsContent"></table>
	<div id="repo">
		<a href="https://github.com/HarkerDev/bellschedule" target="_blank" title="GitHub repository">GitHub repository</a>
	</div>
</div>

<div id="exit">Go back to the good old days</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61981098-1', 'auto');
  ga('send', 'pageview');

</script>

<script>
	/*!
 * Fairy Dust Cursor.js
 * - 90's cursors collection
 * -- https://github.com/tholman/90s-cursor-effects
 * -- http://codepen.io/tholman/full/jWmZxZ/
 */

if (!urlParams.old) (function fairyDustCursor() {

  var possibleColors = ["#D61C59", "#E7D84B", "#1B8798"]
  var width = window.innerWidth;
  var height = window.innerHeight;
  var cursor = {x: width/2, y: width/2};
  var particles = [];

  function init() {
	bindEvents();
	loop();
  }

  // Bind events that are needed
  function bindEvents() {
	document.addEventListener('mousemove', onMouseMove);
	document.addEventListener('touchmove', onTouchMove);
	document.addEventListener('touchstart', onTouchMove);

	window.addEventListener('resize', onWindowResize);
  }

  function onWindowResize(e) {
	width = window.innerWidth;
	height = window.innerHeight;
  }

  function onTouchMove(e) {
	if( e.touches.length > 0 ) {
	  for( var i = 0; i < e.touches.length; i++ ) {
		addParticle( e.touches[i].clientX, e.touches[i].clientY, possibleColors[Math.floor(Math.random()*possibleColors.length)]);
	  }
	}
  }

  function onMouseMove(e) {
	cursor.x = e.clientX - 5;
	cursor.y = e.clientY - 635;

	addParticle( cursor.x, cursor.y, possibleColors[Math.floor(Math.random()*possibleColors.length)]);
  }

  function addParticle(x, y, color) {
	var particle = new Particle();
	particle.init(x, y, color);
	particles.push(particle);
  }

  function updateParticles() {

	// Updated
	for( var i = 0; i < particles.length; i++ ) {
	  particles[i].update();
	}

	// Remove dead particles
	for( var i = particles.length -1; i >= 0; i-- ) {
	  if( particles[i].lifeSpan < 0 ) {
		particles[i].die();
		particles.splice(i, 1);
	  }
	}

  }

  function loop() {
	requestAnimationFrame(loop);
	updateParticles();
  }

  /**
   * Particles
   */

  function Particle() {

	this.character = "*";
	this.lifeSpan = 120; //ms
	this.initialStyles ={
	  "position": "absolute",
	  "display": "block",
	  "pointerEvents": "none",
	  "z-index": "10000000",
	  "fontSize": "60px",
	  "will-change": "transform"
	};

	// Init, and set properties
	this.init = function(x, y, color) {

	  this.velocity = {
		x:  (Math.random() < 0.5 ? -1 : 1) * (Math.random() / 2),
		y: 1
	  };

	  this.position = {x: x - 10, y: y - 20};


  	  var r = Math.floor(Math.random()*256);          // Random between 0-255
	  var g = Math.floor(Math.random()*256);          // Random between 0-255
	  var b = Math.floor(Math.random()*256);          // Random between 0-255
	  var rgb = 'rgb(' + r + ',' + g + ',' + b + ')'; // Collect all to a string

	  this.initialStyles.color = rgb;
	  console.log(rgb);

	  this.element = document.createElement('span');
	  this.element.innerHTML = this.character;
	  applyProperties(this.element, this.initialStyles);
	  this.update();

	  document.body.appendChild(this.element);
	};

	this.update = function() {
	  this.position.x += this.velocity.x;
	  this.position.y += this.velocity.y;
	  this.lifeSpan--;

	  this.element.style.transform = "translate3d(" + this.position.x + "px," + this.position.y + "px,0) scale(" + (this.lifeSpan / 120) + ")";
	}

	this.die = function() {
	  this.element.parentNode.removeChild(this.element);
	}

  }

  /**
   * Utils
   */

  // Applies css `properties` to an element.
  function applyProperties( target, properties ) {
	for( var key in properties ) {
	  target.style[ key ] = properties[ key ];
	}
  }

  init();
})();
</script>
</body>

</html>
